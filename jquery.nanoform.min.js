/*
    NANOFORM - A jQuery plugin to create beautiful one-field forms
    --------------------------------------------------------------
    Copyright (C) 2013, Leandigo (www.leandigo.com)  
    This code is released under the MIT License
*/
(function(a){a.fn.nanoform=function(o){var n="placeholder" in document.createElement("input");if(n){var j=a(document.createElement("input")).addClass("nanoform-input").addClass("nanoform-anim").attr("placeholder",o.placeholder),c=a(document.createElement("div")).addClass("nanoform-submit").html(o.submit_html),l=a(document.createElement("div")).addClass("nanoform-overlay").addClass("nanoform-anim").html(o.overlay_html),p=this.append([j,c,l]).addClass("nanoform"),k=l.width(),f=j.width(),g=c.css("left"),h=o.to_w,b=o.to_l}else{var j=a(document.createElement("input")).attr("id","nanoform-input").addClass("nanoform-input").addClass("nanoform-anim"),i=a(document.createElement("label")).attr("for","nanoform-input").addClass("nanoform-placeholder").html(o.placeholder),c=a(document.createElement("div")).addClass("nanoform-submit").html(o.submit_html),l=a(document.createElement("div")).addClass("nanoform-overlay").addClass("nanoform-anim").html(o.overlay_html),p=this.append([j,i,c,l]).addClass("nanoform"),k=l.width(),f=j.width(),g=c.css("left"),h=o.to_w,b=o.to_l}c.click(function(){o.fn(j.val())});p.mouseenter(m).mouseleave(d);j.focusout(d);j.keypress(function(q){if(!n){j.val().length>0?i.hide():i.fadeIn()}if(q.which==13){o.fn(j.val())}});e();function e(){p.bind("touchstart",function(){p.unbind("mouseenter");m()})}function m(){if(j.val()===""){p.unbind("touchstart");j.animate({width:"+="+h,left:"+=-"+b},"fast");c.animate({left:"+="+b},"fast");l.fadeOut({queue:false},"fast").animate({width:"+="+h,left:"+=-"+b},"fast")}if(!n&&!(j.val().length>0)){i.fadeIn()}}function d(){if(j.val()===""){l.stop(true,true).fadeIn({queue:false},"fast").animate({width:k,left:""},"fast");c.stop(true,true).animate({left:g},"fast");j.stop(true,true).animate({width:f,left:""},"fast",function(){document.activeElement==j[0]&&j.blur();e()})}if(!n){i.hide()}}}})(jQuery);
