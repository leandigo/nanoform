/*
    NANOFORM - A jQuery plugin to create beautiful one-field forms
    --------------------------------------------------------------
    Copyright (C) 2013, Leandigo (www.leandigo.com)  
    This code is released under the MIT License
*/
(function(a){a.fn.nanoform=function(m){var i=a(document.createElement("input")).addClass("nanoform-input").addClass("nanoform-anim").attr("placeholder",m.placeholder),c=a(document.createElement("div")).addClass("nanoform-submit").html(m.submit_html),k=a(document.createElement("div")).addClass("nanoform-overlay").addClass("nanoform-anim").html(m.overlay_html),n=this.append([i,c,k]).addClass("nanoform"),j=k.width(),f=i.width(),g=c.css("left"),h=m.to_w,b=m.to_l;c.click(function(){m.fn(i.val())});n.mouseenter(l).mouseleave(d);i.focusout(d);i.keypress(function(o){if(o.which==13){m.fn(i.val())}});e();function e(){n.bind("touchstart",function(){n.unbind("mouseenter");l()})}function l(){if(i.val()===""){n.unbind("touchstart");i.animate({width:"+="+h,left:"+=-"+b},"fast");c.animate({left:"+="+b},"fast");k.fadeOut({queue:false},"fast").animate({width:"+="+h,left:"+=-"+b},"fast")}}function d(){if(i.val()===""){k.stop(true,true).fadeIn({queue:false},"fast").animate({width:j,left:""},"fast");c.stop(true,true).animate({left:g},"fast");i.stop(true,true).animate({width:f,left:""},"fast",function(){document.activeElement==i[0]&&i.blur();e()})}}}})(jQuery);